name: "Advanced Proxy API with Transformations"
description: "A comprehensive proxy example demonstrating transformation capabilities"
version: "1.0.0"

server:
  host: "0.0.0.0"
  port: 8080

dashboard:
  enabled: true
  port: 3000

mode: "proxy"

endpoints:
  test_json:
    path: "/test/json"
    methods: ["GET"]
    description: "Test JSON transformation with HTTPBin"
    mode: "proxy"
    proxy:
      targets:
        - name: "httpbin"
          url: "https://httpbin.org"
          weight: 1.0
      load_balancing:
        algorithm: "RoundRobin"
      transform_request:
        path_rewrite:
          strip_prefix: "/test"
          add_prefix: "/json"
      transform_response:
        add_headers:
          X-Transformed: "true"
        body_transform:
          json_field_addition:
            transformed_at: "2024-01-01T00:00:00Z"
  
  get_post:
    path: "/posts/1"
    methods: ["GET"]
    description: "Get a specific post with transformations"
    mode: "proxy"
    proxy:
      targets:
        - name: "jsonplaceholder"
          url: "https://jsonplaceholder.typicode.com"
          weight: 1.0
      load_balancing:
        algorithm: "RoundRobin"
      transform_response:
        add_headers:
          X-Source: "jsonplaceholder"
          X-Transformed: "true"
        body_transform:
          json_field_addition:
            fetched_at: "2024-01-01T00:00:00Z"

logging:
  level: "info"
  include_body: false
  include_headers: true
